import{_,u as g,r as v,o as w,c as b,a as s,b as o,w as r,v as d,d as k,e as y,E as i,f as h,g as x}from"./index-D91SJCAi.js";const A="/assets/login-CSF2k4a9.png",E={class:"dowebok"},S={class:"container-login100"},z={class:"wrap-login100"},M={class:"login100-pic js-tilt","data-tilt":""},R=["src"],U={class:"login100-form validate-form"},Z={class:"wrap-input100 validate-input"},B={class:"wrap-input100 validate-input"},C=k({name:"login"}),V=Object.assign(C,{setup(j){const p=g(),u=y();let e=v({email:"",password:""});function c(n){n.key=="Enter"&&l()}const l=async()=>{let n=/^[a-zA-Z0-9_-]{6,20}/;if(!/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e.email)){i.info("邮箱格式不正确");return}if(!n.test(e.password)){i.info("密码格式不正确");return}try{let a=await h.login(e.email,e.password),m=a.token,f=a.user;p.setUserToken(f,m),u.push({name:"home"})}catch(a){i.error(a)}};return w(()=>{document.addEventListener("keyup",c)}),(n,t)=>(x(),b("body",null,[s("div",E,[s("div",S,[s("div",z,[s("div",M,[s("img",{src:o(A),alt:"IMG"},null,8,R)]),s("div",U,[t[6]||(t[6]=s("span",{class:"login100-form-title"}," 欢迎登陆ctOS ",-1)),s("div",Z,[r(s("input",{class:"input100",type:"text",name:"email",placeholder:"邮箱","onUpdate:modelValue":t[0]||(t[0]=a=>o(e).email=a)},null,512),[[d,o(e).email]]),t[2]||(t[2]=s("span",{class:"focus-input100"},null,-1)),t[3]||(t[3]=s("span",{class:"symbol-input100"},[s("i",{class:"iconfont icon-a-shapeemailpressedtrue","aria-hidden":"true"})],-1))]),s("div",B,[r(s("input",{class:"input100",type:"password",name:"password",placeholder:"密码","onUpdate:modelValue":t[1]||(t[1]=a=>o(e).password=a)},null,512),[[d,o(e).password]]),t[4]||(t[4]=s("span",{class:"focus-input100"},null,-1)),t[5]||(t[5]=s("span",{class:"symbol-input100"},[s("i",{class:"iconfont icon-a-shapepasswordpressedtrue","aria-hidden":"true"})],-1))]),s("div",{class:"container-login100-form-btn"},[s("button",{class:"login100-form-btn",onClick:l},"登陆")])])])])])]))}}),O=_(V,[["__scopeId","data-v-de1f3811"]]);export{O as default};
